import{e as E}from"./index.70bdb397.js";/* empty css                *//* empty css               *//* empty css                *//* empty css              *//* empty css               */import{d as w,r as C,e as u,w as _,B as I,aD as g,aG as i,aH as d,l as x,bz as A,bx as S,by as T,bL as N,h as V,as as O}from"./arco.46b62ede.js";import{g as U}from"./case.0ede9485.js";const q={name:"TaskSelect"},J=w({...q,props:{open:{type:Boolean,default(){return!1}}},emits:["update:open","ok"],setup(v,{emit:o}){const p=v,n=E(),t=C({taskId:""}),s=u(p.open),B=()=>{o("update:open",!1)};_(()=>p.open,(a,e)=>{s.value=a});const c=u(),m=a=>{if(a.leaf||(a.disabled=!0,a.icon=()=>V(O)),a.children&&a.children.length>0)for(let e=0;e<a.children.length;e++)m(a.children[e])},k=()=>{n.appName&&U(n.appName).then(a=>{const e=a.data;e instanceof Array&&e.forEach(r=>{m(r)}),c.value=e})},f=u(),b=async()=>{var e;return await((e=f.value)==null?void 0:e.validate())===void 0},h=()=>{o("update:open",!1),o("ok",x(t))};return _(()=>n.appName,(a,e)=>{e!==a&&k()},{deep:!0,immediate:!0}),(a,e)=>{const r=A,D=S,F=T,y=N;return I(),g(y,{visible:s.value,"onUpdate:visible":e[1]||(e[1]=l=>s.value=l),"on-before-ok":b,onOk:h,onCancel:B,title:"\u9009\u62E9\u6D4B\u8BD5\u4EFB\u52A1"},{default:i(()=>[d(F,{ref_key:"caseForm",ref:f,model:t,style:{width:"450px"},layout:"vertical"},{default:i(()=>[d(D,{field:"taskId",tooltip:"\u8BF7\u9009\u62E9\u5BF9\u5E94\u7684\u6D4B\u8BD5\u4EFB\u52A1",label:"\u6D4B\u8BD5\u4EFB\u52A1",required:""},{default:i(()=>[d(r,{modelValue:t.taskId,"onUpdate:modelValue":e[0]||(e[0]=l=>t.taskId=l),data:c.value},null,8,["modelValue","data"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}});export{J as _};
