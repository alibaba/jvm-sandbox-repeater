import{e as A,h as T,_ as $}from"./index.70bdb397.js";/* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import{d as V,r as G,e as P,aK as b,B as l,C as d,aH as o,aG as e,aM as s,aE as f,F as r,aN as p,u as R,aD as k,bb as U,bE as H,aW as L,bF as j,bG as K,bH as M,bD as W,bi as q,bj as J}from"./arco.46b62ede.js";import{l as O}from"./task.f28b25f5.js";import"./chart.42ea7243.js";import"./vue.4bab78c1.js";import"./base.3c7b4f95.js";function Q(_){let n=parseInt(_,10),a=0,c=0;n>60&&(a=parseInt(String(n/60),10),n=parseInt(String(n%60),10),a>60&&(c=parseInt(String(a/60),10),a=parseInt(String(a%60),10)));let u=`${parseInt(String(n),10)}\u79D2`;return a>0&&(u=`${parseInt(String(a),10)}\u5206${u}`),c>0&&(u=`${parseInt(c,10)}\u65F6${u}`),u}const I=_=>(q("data-v-ee04d90a"),_=_(),J(),_),X={class:"container"},Y={key:0,style:{color:"green"}},Z={key:1,style:{color:"#6e97b9"}},tt={key:2,style:{color:"green"}},et={key:3,style:{color:"red"}},at={style:{color:"blue"}},ot=I(()=>r("label",{style:{color:"rgb(166 175 193 / 60%)"}},"\u603B\u8BA1-",-1)),st={style:{color:"green"}},nt=I(()=>r("label",{style:{color:"rgb(166 175 193 / 60%)"}},"\u6210\u529F-",-1)),ut={style:{color:"red"}},it=I(()=>r("label",{style:{color:"rgb(166 175 193 / 60%)"}},"\u5931\u8D25-",-1)),ct={style:{color:"#1a131e"}},lt={name:"TaskIndex"},rt=V({...lt,setup(_){const n=A(),a={page:1,pageSize:20,showPageSize:!0},c=G({...a}),u=P([]),y=async(i={page:1,pageSize:20})=>{if(n.appName){const m={appName:n.appName,page:i.page,pageSize:i.pageSize},{data:h,count:g}=await O(m);u.value=h,c.page=i.page,c.total=g}},x=i=>{y({...a,page:i})},F=[{title:"id",dataIndex:"id"},{title:"\u4EFB\u52A1\u540D\u79F0",dataIndex:"name"},{title:"\u72B6\u6001",dataIndex:"status",slotName:"status"},{title:"\u603B\u6570",dataIndex:"total",slotName:"sum"},{title:"\u8017\u65F6",dataIndex:"duration",slotName:"duration"},{title:"\u6210\u529F\u7387",dataIndex:"successRate"},{title:"\u73AF\u5883",dataIndex:"env",slotName:"env"},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"user"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"gmtStart"},{title:"\u64CD\u4F5C",slotName:"button"}],B=i=>{const{href:m}=T.resolve({path:`/test/taskDetail/${i.id}`});window.open(m,"_blank")};return y(),(i,m)=>{const h=b("Breadcrumb"),g=b("icon-loading"),C=b("icon-check-circle"),v=U,S=H,N=L,D=j,E=K,w=M,z=W;return l(),d("div",X,[o(h,{items:["menu.manager.test","menu.manager.test.task"]},null,8,["items"]),o(z,{class:"general-card",title:"\u4EFB\u52A1\u7BA1\u7406"},{default:e(()=>[o(w,null,{default:e(()=>[o(E,{span:24},{default:e(()=>[o(D,{size:"mini","row-key":"id",columns:F,data:u.value,pagination:c,onPageChange:x},{status:e(({record:t})=>[t.status==="RUNNING"?(l(),d("span",Y,[o(g),s("\u8FD0\u884C\u4E2D")])):f("",!0),t.status==="INIT"?(l(),d("span",Z,[o(g),s("\u6392\u961F\u4E2D")])):f("",!0),t.status==="SUCCESS"?(l(),d("span",tt,[o(C),s("\u6210\u529F")])):f("",!0),t.status==="FAIL"?(l(),d("span",et,"\u5931\u8D25")):f("",!0)]),sum:e(({record:t})=>[o(v,null,{default:e(()=>[r("span",at,[ot,s(p(t.total),1)]),r("span",st,[nt,s(p(t.success),1)]),r("span",ut,[it,s(p(t.fail),1)])]),_:2},1024)]),duration:e(({record:t})=>[r("span",ct,p(R(Q)(t.duration/1e3+"")),1)]),env:e(({record:t})=>[t.env==="DEV"?(l(),k(S,{key:0,color:"#ff5722",size:"small"},{default:e(()=>[s(p(t.env),1)]),_:2},1024)):(l(),k(S,{key:1,color:"#165dff",size:"small"},{default:e(()=>[s(p(t.env),1)]),_:2},1024))]),button:e(({record:t})=>[o(N,{type:"outline",size:"mini",shape:"round",style:{"margin-right":"5px"},onClick:_t=>B(t)},{default:e(()=>[s(" \u8BE6\u60C5 ")]),_:2},1032,["onClick"])]),_:1},8,["data","pagination"])]),_:1})]),_:1})]),_:1})])}}});const Bt=$(rt,[["__scopeId","data-v-ee04d90a"]]);export{Bt as default};
