import{e as V,_ as G}from"./index.70bdb397.js";/* empty css              *//* empty css               */import{d as D,e as F,r as B,w as E,B as h,C as A,aH as e,aG as t,aJ as K,aI as M,aD as O,aM as c,aN as R,aV as k,bw as U,bx as N,b8 as $,b7 as H,aW as w,by as x,aU as W,bz as z,aT as J,h as Q,as as j,bA as X,aK as C,bB as Y,bC as Z,bD as ee}from"./arco.46b62ede.js";/* empty css               *//* empty css                *//* empty css              *//* empty css               */import{a as te,q as ae,u as oe,b as ue,c as ne,d as le,e as se}from"./app.fdbaf873.js";/* empty css               */import{u as I}from"./loading.f82ebe9b.js";import{g as ie}from"./case.0ede9485.js";/* empty css               */import{g as pe}from"./url.f47a0375.js";import{g as de}from"./vue.4bab78c1.js";import"./chart.42ea7243.js";import"./base.3c7b4f95.js";const me={class:"container",style:{width:"50%"}},re={name:"Admin"},_e=D({...re,setup(g){const m=V(),f=F([]);te().then(p=>{f.value=p.data});const i=B({admins:[],bu:1}),u=()=>{m.appName&&ae(m.appName).then(p=>{i.admins=p.data.admins,i.bu=p.data.buId})},l=p=>{m.appName&&oe(m.appName,p.values.admins,p.values.bu).then(()=>{k.success("\u66F4\u65B0\u6210\u529F")})};return E(()=>m.appName,(p,n)=>{p!==n&&u()},{deep:!0,immediate:!0}),u(),(p,n)=>{const s=U,r=N,_=$,a=H,o=w,b=x;return h(),A("div",me,[e(b,{model:i,layout:"vertical",onSubmit:l},{default:t(()=>[e(r,{field:"admins",label:"\u7BA1\u7406\u5458\u5217\u8868"},{default:t(()=>[e(s,{modelValue:i.admins,"onUpdate:modelValue":n[0]||(n[0]=d=>i.admins=d),placeholder:"Please Enter","allow-clear":""},null,8,["modelValue"])]),_:1}),e(r,{field:"bu",label:"\u5F52\u5C5E\u4E1A\u52A1",required:""},{default:t(()=>[e(a,{modelValue:i.bu,"onUpdate:modelValue":n[1]||(n[1]=d=>i.bu=d),placeholder:"\u8BF7\u9009\u62E9..."},{default:t(()=>[(h(!0),A(K,null,M(f.value,d=>(h(),O(_,{key:d.id,value:d.id},{default:t(()=>[c(R(d.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(o,{type:"primary","html-type":"submit"},{default:t(()=>[c("\u4FDD\u5B58")]),_:1})]),_:1})]),_:1},8,["model"])])}}}),ce={class:"container",style:{width:"50%"}},fe={name:"TestSet"},T=D({...fe,props:{env:{type:String,default:"test"}},setup(g){const m=g,{loading:f,setLoading:i}=I(!0),u=V();F(!1);const l=B({testSuits:[],open:!1,feishuWebHooks:[],retryTime:1}),p=()=>{u.appName&&ue(u.appName,m.env).then(a=>{l.testSuits=a.data.testSuitDTOList.map((o,b)=>o.id),l.open=a.data.open,l.feishuWebHooks=a.data.feishuWebHooks,l.retryTime=a.data.failRetryTime,i(!1)})},n=a=>{u.appName&&ne(u.appName,m.env,a.values.open,a.values.testSuits,a.values.feishuWebHooks,a.values.retryTime).then(()=>{k.success("\u66F4\u65B0\u6210\u529F"),p()})},s=F(),r=a=>{if(a.leaf||(a.disabled=!0,a.icon=()=>Q(j)),a.children&&a.children.length>0)for(let o=0;o<a.children.length;o++)r(a.children[o])},_=()=>{u.appName&&ie(u.appName).then(a=>{const o=a.data;o instanceof Array&&o.forEach(b=>{r(b)}),s.value=o})};return E(()=>u.appName,(a,o)=>{a!==o&&(p(),_())},{deep:!0,immediate:!0}),(a,o)=>{const b=W,d=N,S=z,v=J,L=U,q=w,P=x;return h(),A("div",ce,[e(P,{model:l,layout:"vertical",onSubmit:n},{default:t(()=>[e(d,{field:"open",label:"\u5F00\u542F"},{default:t(()=>[e(b,{modelValue:l.open,"onUpdate:modelValue":o[0]||(o[0]=y=>l.open=y)},null,8,["modelValue"])]),_:1}),e(d,{field:"admins",label:"\u56DE\u5F52\u7528\u4F8B\u96C6"},{default:t(()=>[e(S,{modelValue:l.testSuits,"onUpdate:modelValue":o[1]||(o[1]=y=>l.testSuits=y),data:s.value,"allow-search":!0,multiple:!0,"tree-checkable":!0},null,8,["modelValue","data"])]),_:1}),e(d,{field:"retryTime",label:"\u7528\u4F8B\u5931\u8D25\u91CD\u8BD5\u6B21\u6570"},{default:t(()=>[e(v,{modelValue:l.retryTime,"onUpdate:modelValue":o[2]||(o[2]=y=>l.retryTime=y),min:1,max:6},null,8,["modelValue"])]),_:1}),e(d,{field:"feishuWebHooks",label:"\u98DE\u4E66\u7FA4\u673A\u5668\u4EBAid"},{default:t(()=>[e(L,{modelValue:l.feishuWebHooks,"onUpdate:modelValue":o[3]||(o[3]=y=>l.feishuWebHooks=y),style:{width:"100%"},placeholder:"\u8F93\u5165 \u5E76 Enter","allow-clear":""},null,8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(q,{type:"primary","html-type":"submit"},{default:t(()=>[c("\u4FDD\u5B58")]),_:1})]),_:1})]),_:1},8,["model"])])}}}),be={class:"container",style:{width:"50%"}},ve={name:"Daily"},ye=D({...ve,props:{env:{type:String,default:"test"}},setup(g){const{loading:m,setLoading:f}=I(!0),i=V();F(!1);const u=B({env:"TEST",open:!1,time:"23:00:00"}),l=()=>{i.appName&&le(i.appName).then(n=>{u.open=n.data.open,u.env=n.data.env,u.time=n.data.time,f(!1)})},p=n=>{i.appName&&se(i.appName,n.values.env,n.values.open,n.values.time).then(()=>{k.success("\u66F4\u65B0\u6210\u529F"),l()})};return E(()=>i.appName,(n,s)=>{n!==s&&l()},{deep:!0,immediate:!0}),(n,s)=>{const r=W,_=N,a=$,o=H,b=X,d=w,S=x;return h(),A("div",be,[e(S,{model:u,layout:"vertical",onSubmit:p},{default:t(()=>[e(_,{field:"open",label:"\u5F00\u542F"},{default:t(()=>[e(r,{modelValue:u.open,"onUpdate:modelValue":s[0]||(s[0]=v=>u.open=v)},null,8,["modelValue"])]),_:1}),e(_,{field:"env",label:"\u56DE\u5F52\u73AF\u5883"},{default:t(()=>[e(o,{style:{width:"320px"},placeholder:"Please select ...",modelValue:u.env,"onUpdate:modelValue":s[1]||(s[1]=v=>u.env=v)},{default:t(()=>[e(a,{value:"TEST"},{default:t(()=>[c("TEST")]),_:1}),e(a,null,{default:t(()=>[c("DEV")]),_:1}),e(a,null,{default:t(()=>[c("STG")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(_,{field:"time"},{default:t(()=>[e(b,{style:{width:"194px"},modelValue:u.time,"onUpdate:modelValue":s[2]||(s[2]=v=>u.time=v)},null,8,["modelValue"])]),_:1}),e(_,null,{default:t(()=>[e(d,{type:"primary","html-type":"submit"},{default:t(()=>[c("\u4FDD\u5B58")]),_:1})]),_:1})]),_:1},8,["model"])])}}}),he={class:"container"},Fe={name:"AppConfig"},Ae=D({...Fe,setup(g){de();const m=pe(window.location.href);let f="1";m&&m.active&&(f=m.active);const i=F(f),u=l=>{};return(l,p)=>{const n=C("Breadcrumb"),s=Y,r=C("icon-calendar"),_=Z,a=ee;return h(),A("div",he,[e(n,{items:["menu.app","menu.app.config"]},null,8,["items"]),e(a,{class:"general-card",title:"\u5E94\u7528\u914D\u7F6E"},{default:t(()=>[e(_,{"default-active-key":i.value,type:"rounded",onChange:u},{default:t(()=>[e(s,{key:"1",title:"\u57FA\u7840\u914D\u7F6E"},{default:t(()=>[e(_e)]),_:1}),e(s,{key:"2",title:"\u56DE\u5F52\u914D\u7F6E"},{default:t(()=>[e(_,{position:"left"},{default:t(()=>[e(s,{key:"1"},{title:t(()=>[e(r),c(" Test\u73AF\u5883 ")]),default:t(()=>[e(T,{env:"test"})]),_:1}),e(s,{key:"2"},{title:t(()=>[e(r,{env:"dev"}),c(" Dev\u73AF\u5883 ")]),default:t(()=>[e(T,{env:"dev"})]),_:1}),e(s,{key:"3"},{title:t(()=>[e(r,{env:"stg"}),c(" Stg\u73AF\u5883 ")]),default:t(()=>[e(T,{env:"stg"})]),_:1})]),_:1})]),_:1}),e(s,{key:"3",title:"\u6BCF\u65E5\u4EFB\u52A1"},{default:t(()=>[e(ye)]),_:1})]),_:1},8,["default-active-key"])]),_:1})])}}});const Le=G(Ae,[["__scopeId","data-v-6c163014"]]);export{Le as default};
