import{e as S,_ as q}from"./index.70bdb397.js";/* empty css                *//* empty css               *//* empty css                *//* empty css              *//* empty css               *//* empty css              *//* empty css              *//* empty css               */import{d as z,e as d,w as H,r as G,aK as K,B as r,C as R,aH as e,aG as t,aD as C,aM as l,aE as g,l as Y,aV as v,bL as y,bE as $,aW as J,bF as P,bG as W,bH as Q,bD as X,bM as Z,bx as ee,b8 as te,b7 as ae,by as ue}from"./arco.46b62ede.js";import{g as oe,u as ne,r as le}from"./tag.c93f145b.js";import"./chart.42ea7243.js";import"./vue.4bab78c1.js";import"./base.3c7b4f95.js";const se={class:"container"},ie={name:"tagsManage2"},de=z({...ie,setup(me){const m=S(),k=d({pageSize:20}),_=d([]),V=[{title:"\u6807\u7B7Eid",dataIndex:"id"},{title:"\u6807\u7B7E\u6807\u8BC6",dataIndex:"name"},{title:"\u6807\u7B7E\u540D\u79F0",dataIndex:"nickName"},{title:"\u6807\u7B7E\u8DEF\u5F84",dataIndex:"jsonpath"},{title:"\u4F5C\u7528\u57DF",dataIndex:"scope",slotName:"scope"},{title:"identity",dataIndex:"identity"},{title:"\u64CD\u4F5C",slotName:"button"}],p=async()=>{if(m.appName){const{data:u}=await oe(m.appName);_.value=u}};H(()=>m.appName,(u,o)=>{u!==o&&p()},{deep:!0,immediate:!0});const c=d(!1),a=G({id:-1,jsonpath:"",name:"",nickName:"",scope:"1",identity:""}),N=u=>{a.id=u.id,a.nickName=u.nickName,a.name=u.name,a.scope=u.scope,a.jsonpath=u.jsonpath,a.identity=u.identity,c.value=!0},f=d(),x=async()=>{var o;return await((o=f.value)==null?void 0:o.validate())===void 0},B=()=>{c.value=!1},D=()=>{const u=Y(a);ne(u).then(()=>{v.success("\u66F4\u65B0\u6210\u529F"),B(),p()})},A=u=>{y.warning({title:"\u5220\u9664\u786E\u8BA4",content:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u6807\u7B7E\u5417\uFF1F",okText:"\u786E\u5B9A\u5220\u9664",cancelText:"\u53D6\u6D88\u5220\u9664",alignCenter:!0,closable:!0,hideCancel:!1,onOk:()=>{le({id:u.id}).then(()=>{v.success("\u5220\u9664\u6210\u529F"),p()})}})};return(u,o)=>{const h=K("Breadcrumb"),F=$,E=J,w=P,T=W,I=Q,L=X,i=Z,s=ee,b=te,O=ae,j=ue,M=y;return r(),R("div",se,[e(h,{items:["menu.app","menu.app.tag"]},null,8,["items"]),e(L,{class:"general-card",title:"\u6807\u7B7E\u7BA1\u7406"},{default:t(()=>[e(I,null,{default:t(()=>[e(T,{span:24},{default:t(()=>[e(w,{"row-key":"id",columns:V,data:_.value,pagination:k.value},{scope:t(({record:n})=>[n.scope==="ALL"?(r(),C(F,{key:0,color:"green"},{default:t(()=>[l("\u5168\u5C40\u4F5C\u7528\u57DF")]),_:1})):g("",!0),n.scope==="ONLY"?(r(),C(F,{key:1,color:"orange"},{default:t(()=>[l("\u6307\u5B9A\u63A5\u53E3")]),_:1})):g("",!0)]),button:t(({record:n})=>[e(E,{type:"outline",size:"mini",shape:"round",style:{"margin-right":"5px"},onClick:U=>N(n)},{default:t(()=>[l(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),e(E,{type:"outline",size:"mini",shape:"round",style:{"margin-right":"5px"},status:"danger",onClick:U=>A(n)},{default:t(()=>[l(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1},8,["data","pagination"])]),_:1})]),_:1})]),_:1}),e(M,{visible:c.value,onOk:D,onCancel:B,"on-before-ok":x,width:800},{title:t(()=>[l(" \u7F16\u8F91\u6807\u7B7E ")]),default:t(()=>[e(j,{ref_key:"editTagForm",ref:f,model:a,style:{width:"100%"},layout:"vertical"},{default:t(()=>[e(s,{field:"name",tooltip:"\u6807\u7B7E\u7684id",label:"\u6807\u7B7Eid(\u82F1\u6587)",required:""},{default:t(()=>[e(i,{modelValue:a.name,"onUpdate:modelValue":o[0]||(o[0]=n=>a.name=n)},null,8,["modelValue"])]),_:1}),e(s,{field:"nickName",tooltip:"\u6807\u7B7E\u7684\u4E2D\u6587\u540D",label:"\u6807\u7B7E\u6635\u79F0(\u4E2D\u6587)",required:""},{default:t(()=>[e(i,{modelValue:a.nickName,"onUpdate:modelValue":o[1]||(o[1]=n=>a.nickName=n)},null,8,["modelValue"])]),_:1}),e(s,{field:"jsonpath",tooltip:"\u9009\u62E9\u6307\u5B9A\u7684\u6807\u7B7E",label:"JSON PATH",required:""},{default:t(()=>[e(i,{modelValue:a.jsonpath,"onUpdate:modelValue":o[2]||(o[2]=n=>a.jsonpath=n)},null,8,["modelValue"])]),_:1}),e(s,{field:"scope",tooltip:"\u5168\u5C40\u4F5C\u7528\u57DF\u4EE3\u8868\u6240\u6709\u4E3B\u8C03\u7528\u5747\u4F1A\u751F\u6548",label:"\u4F5C\u7528\u57DF",required:"",disabled:""},{default:t(()=>[e(O,{modelValue:a.scope,"onUpdate:modelValue":o[3]||(o[3]=n=>a.scope=n)},{default:t(()=>[e(b,{value:"ALL"},{default:t(()=>[l("\u6240\u6709\u4E3B\u8C03\u7528")]),_:1}),e(b,{value:"ONLY"},{default:t(()=>[l("\u5F53\u524D\u4E3B\u8C03\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,{field:"identity",tooltip:"\u4E3B\u8C03\u7528\u7684id",label:"identity"},{default:t(()=>[e(i,{modelValue:a.identity,"onUpdate:modelValue":o[4]||(o[4]=n=>a.identity=n)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])}}});const Ve=q(de,[["__scopeId","data-v-cca099ff"]]);export{Ve as default};
